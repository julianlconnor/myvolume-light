/*
 RequireJS 2.0.5 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.happyworm.com/jquery/jplayer
 *
 * Copyright (c) 2009 - 2010 Happyworm Ltd
 * Dual licensed under the MIT and GPL licenses.
 *  - http://www.opensource.org/licenses/mit-license.php
 *  - http://www.gnu.org/copyleft/gpl.html
 *
 * Author: Mark J Panaghiston
 * Version: 2.0.0
 * Date: 20th December 2010
 */

var requirejs,require,define;(function(Y){function w(e){return I.call(e)==="[object Function]"}function D(e){return I.call(e)==="[object Array]"}function o(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function M(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function x(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))break}function J(e,t,n,r){return t&&x(t,function(t,i){if(n||!E.call(e,i))r&&typeof t!="string"?(e[i]||(e[i]={}),J(e[i],t,n,r)):e[i]=t}),e}function t(e,t){return function(){return t.apply(e,arguments)}}function Z(e){if(!e)return e;var t=Y;return o(e.split("."),function(e){t=t[e]}),t}function $(e,t,n){return function(){var r=ga.call(arguments,0),i;return n&&w(i=r[r.length-1])&&(i.__requireJsBuild=!0),r.push(t),e.apply(null,r)}}function aa(e,t,n){o([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(r){var i=r[1]||r[0];e[r[0]]=t?$(t[i],n):function(){var e=y[N];return e[i].apply(e,arguments)}})}function F(e,t,n,r){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=r,n&&(t.originalError=n),t}function ha(){return G&&G.readyState==="interactive"?G:(M(document.getElementsByTagName("script"),function(e){if(e.readyState==="interactive")return G=e}),G)}var j,p,u,A,s,B,G,H,ba,ca,ia=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ja=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,da=/\.js$/,ka=/^\.\//;p=Object.prototype;var I=p.toString,E=p.hasOwnProperty;p=Array.prototype;var ga=p.slice,la=p.splice,v=typeof window!="undefined"&&!!navigator&&!!document,ea=!v&&typeof importScripts!="undefined",ma=v&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,N="_",R=typeof opera!="undefined"&&opera.toString()==="[object Opera]",y={},r={},O=[],K=!1;if(typeof define=="undefined"){if(typeof requirejs!="undefined"){if(w(requirejs))return;r=requirejs,requirejs=void 0}typeof require!="undefined"&&!w(require)&&(r=require,require=void 0),j=requirejs=function(e,t,n,r){var i,s=N;return!D(e)&&typeof e!="string"&&(i=e,D(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(s=i.context),(r=y[s])||(r=y[s]=j.s.newContext(s)),i&&r.configure(i),r.require(e,t,n)},j.config=function(e){return j(e)},require||(require=j),j.version="2.0.5",j.jsExtRegExp=/^\/|:|\?|\.js$/,j.isBrowser=v,p=j.s={contexts:y,newContext:function(e){function n(e,t,n){var r,i,s,o,u,a,f,l=t&&t.split("/");r=l;var c=L.map,h=c&&c["*"];if(e&&e.charAt(0)===".")if(t){r=L.pkgs[t]?l=[t]:l.slice(0,l.length-1),t=e=r.concat(e.split("/"));for(r=0;t[r];r+=1)if(i=t[r],i===".")t.splice(r,1),r-=1;else if(i===".."){if(r===1&&(t[2]===".."||t[0]===".."))break;r>0&&(t.splice(r-1,2),r-=2)}r=L.pkgs[t=e[0]],e=e.join("/"),r&&e===t+"/"+r.main&&(e=t)}else e.indexOf("./")===0&&(e=e.substring(2));if(n&&(l||h)&&c){t=e.split("/");for(r=t.length;r>0;r-=1){s=t.slice(0,r).join("/");if(l)for(i=l.length;i>0;i-=1)if(n=c[l.slice(0,i).join("/")])if(n=n[s]){o=n,u=r;break}if(o)break;!a&&h&&h[s]&&(a=h[s],f=r)}!o&&a&&(o=a,u=f),o&&(t.splice(0,u,o),e=t.join("/"))}return e}function r(e){v&&o(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===N.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=L.paths[e];if(t&&D(t)&&t.length>1)return r(e),t.shift(),N.undef(e),N.require([e]),!0}function s(e,t,r,i){var s,o,u=e?e.indexOf("!"):-1,a=null,f=t?t.name:null,l=e,c=!0,h="";return e||(c=!1,e="_@r"+(B+=1)),u!==-1&&(a=e.substring(0,u),e=e.substring(u+1,e.length)),a&&(a=n(a,f,i),o=P[a]),e&&(a?h=o&&o.normalize?o.normalize(e,function(e){return n(e,f,i)}):n(e,f,i):(h=n(e,f,i),s=N.nameToUrl(h))),e=a&&!o&&!r?"_unnormalized"+(I+=1):"",{prefix:a,name:h,parentMap:t,unnormalized:!!e,url:s,originalName:l,isDefine:c,id:(a?a+"!"+h:h)+e}}function u(e){var t=e.id,n=A[t];return n||(n=A[t]=new N.Module(e)),n}function a(e,t,n){var r=e.id,i=A[r];E.call(P,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(P[r]):u(e).on(t,n)}function f(e,t){var n=e.requireModules,r=!1;t?t(e):(o(n,function(t){if(t=A[t])t.error=e,t.events.error&&(r=!0,t.emit("error",e))}),!r)&&j.onError(e)}function l(){O.length&&(la.apply(_,[_.length-1,0].concat(O)),O=[])}function c(e,t,n){return e=e&&e.map,t=$(n||N.require,e,t),aa(t,N,e),t.isBrowser=v,t}function h(e){delete A[e],o(q,function(t,n){if(t.map.id===e)return q.splice(n,1),t.defined||(N.waitCount-=1),!0})}function p(e,t){var n=e.map.id,r=e.depMaps,i;if(e.inited)return t[n]?e:(t[n]=!0,o(r,function(e){if(e=A[e.id])return!e.inited||!e.enabled?(i=null,delete t[n],!0):i=p(e,J({},t))}),i)}function d(e,t,n){var r=e.map.id,i=e.depMaps;if(e.inited&&e.map.isDefine)return t[r]?P[r]:(t[r]=e,o(i,function(i){var i=i.id,s=A[i];!C[i]&&s&&(!s.inited||!s.enabled?n[r]=!0:(s=d(s,t,n),n[i]||e.defineDepById(i,s)))}),e.check(!0),P[r])}function m(e){e.check()}function g(){var e,t,n,s,u=(n=L.waitSeconds*1e3)&&N.startTime+n<(new Date).getTime(),a=[],l=!1,c=!0;if(!S){S=!0,x(A,function(n){e=n.map,t=e.id;if(n.enabled&&!n.error)if(!n.inited&&u)i(t)?l=s=!0:(a.push(t),r(t));else if(!n.inited&&n.fetched&&e.isDefine&&(l=!0,!e.prefix))return c=!1});if(u&&a.length)return n=F("timeout","Load timeout for modules: "+a,null,a),n.contextName=N.contextName,f(n);c&&(o(q,function(e){if(!e.defined){var e=p(e,{}),t={};e&&(d(e,t,{}),x(t,m))}}),x(A,m)),(!u||s)&&l&&(v||ea)&&!k&&(k=setTimeout(function(){k=0,g()},50)),S=!1}}function y(e){u(s(e[0],null,!0)).init(e[1],e[2])}function b(e){var e=e.currentTarget||e.srcElement,t=N.onScriptLoad;return e.detachEvent&&!R?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=N.onScriptError,e.detachEvent&&!R||e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}var S,T,N,C,k,L={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},A={},M={},_=[],P={},H={},B=1,I=1,q=[];return C={require:function(e){return c(e)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports=P[e.map.id]={}},module:function(e){return e.module={id:e.map.id,uri:e.map.url,config:function(){return L.config&&L.config[e.map.id]||{}},exports:P[e.map.id]}}},T=function(e){this.events=M[e.id]||{},this.map=e,this.shim=L.shim[e.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},T.prototype={init:function(e,n,r,i){i=i||{},this.inited||(this.factory=n,r?this.on("error",r):this.events.error&&(r=t(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.depMaps.rjsSkipMap=e.rjsSkipMap,this.errback=r,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDepById:function(e,t){var n;return o(this.depMaps,function(t,r){if(t.id===e)return n=r,!0}),this.defineDep(n,t)},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,N.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();c(this,!0)(this.shim.deps||[],t(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;H[e]||(H[e]=!0,N.load(this.map.id,e))},check:function(e){if(this.enabled&&!this.enabling){var t,n,r=this.map.id;n=this.depExports;var i=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(w(s)){if(this.events.error)try{i=N.execCb(r,s,n,i)}catch(o){t=o}else i=N.execCb(r,s,n,i);this.map.isDefine&&((n=this.module)&&n.exports!==void 0&&n.exports!==this.exports?i=n.exports:i===void 0&&this.usingExports&&(i=this.exports));if(t)return t.requireMap=this.map,t.requireModules=[this.map.id],t.requireType="define",f(this.error=t)}else i=s;this.exports=i,this.map.isDefine&&!this.ignore&&(P[r]=i,j.onResourceLoad)&&j.onResourceLoad(N,this.map,this.depMaps),delete A[r],this.defined=!0,N.waitCount-=1,N.waitCount===0&&(q=[])}this.defining=!1,!e&&this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,r=e.id,i=s(e.prefix,null,!1,!0);a(i,"defined",t(this,function(i){var o;o=this.map.name;var l=this.map.parentMap?this.map.parentMap.name:null;if(this.map.unnormalized){if(i.normalize&&(o=i.normalize(o,function(e){return n(e,l,!0)})||""),i=s(e.prefix+"!"+o,this.map.parentMap,!1,!0),a(i,"defined",t(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),i=A[i.id])this.events.error&&i.on("error",t(this,function(e){this.emit("error",e)})),i.enable()}else o=t(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),o.error=t(this,function(e){this.inited=!0,this.error=e,e.requireModules=[r],x(A,function(e){e.map.id.indexOf(r+"_unnormalized")===0&&h(e.map.id)}),f(e)}),o.fromText=function(e,t){var n=K;n&&(K=!1),u(s(e)),j.exec(t),n&&(K=!0),N.completeLoad(e)},i.load(e.name,c(e.parentMap,!0,function(e,t,n){return e.rjsSkipMap=!0,N.require(e,t,n)}),o,L)})),N.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){this.enabled=!0,this.waitPushed||(q.push(this),N.waitCount+=1,this.waitPushed=!0),this.enabling=!0,o(this.depMaps,t(this,function(e,n){var r,i;if(typeof e=="string"){e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.depMaps.rjsSkipMap),this.depMaps[n]=e;if(r=C[e.id]){this.depExports[n]=r(this);return}this.depCount+=1,a(e,"defined",t(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&a(e,"error",this.errback)}r=e.id,i=A[r],!C[r]&&i&&!i.enabled&&N.enable(e,this)})),x(this.pluginMaps,t(this,function(e){var t=A[e.id];t&&!t.enabled&&N.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){o(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},N={config:L,contextName:e,registry:A,defined:P,urlFetched:H,waitCount:0,defQueue:_,Module:T,makeModuleMap:s,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=L.pkgs,n=L.shim,r=L.paths,i=L.map;J(L,e,!0),L.paths=J(r,e.paths,!0),e.map&&(L.map=J(i||{},e.map,!0,!0)),e.shim&&(x(e.shim,function(e,t){D(e)&&(e={deps:e}),e.exports&&!e.exports.__buildReady&&(e.exports=N.makeShimExports(e.exports)),n[t]=e}),L.shim=n),e.packages&&(o(e.packages,function(e){e=typeof e=="string"?{name:e}:e,t[e.name]={name:e.name,location:e.location||e.name,main:(e.main||"main").replace(ka,"").replace(da,"")}}),L.pkgs=t),x(A,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=s(t))}),(e.deps||e.callback)&&N.require(e.deps||[],e.callback)},makeShimExports:function(e){var t;return typeof e=="string"?(t=function(){return Z(e)},t.exports=e,t):function(){return e.apply(Y,arguments)}},requireDefined:function(e,t){var n=s(e,t,!1,!0).id;return E.call(P,n)},requireSpecified:function(e,t){return e=s(e,t,!1,!0).id,E.call(P,e)||E.call(A,e)},require:function(t,n,r,i){var o;if(typeof t=="string")return w(n)?f(F("requireargs","Invalid require call"),r):j.get?j.get(N,t,n):(t=s(t,n,!1,!0),t=t.id,E.call(P,t)?P[t]:f(F("notloaded",'Module name "'+t+'" has not been loaded yet for context: '+e)));r&&!w(r)&&(i=r,r=void 0),n&&!w(n)&&(i=n,n=void 0);for(l();_.length;){if(o=_.shift(),o[0]===null)return f(F("mismatch","Mismatched anonymous define() module: "+o[o.length-1]));y(o)}return u(s(null,i)).init(t,n,r,{enabled:!0}),g(),N.require},undef:function(e){l();var t=s(e,null,!0),n=A[e];delete P[e],delete H[t.url],delete M[e],n&&(n.events.defined&&(M[e]=n.events),h(e))},enable:function(e){A[e.id]&&u(e).enable()},completeLoad:function(e){var t,n,r=L.shim[e]||{},s=r.exports&&r.exports.exports;for(l();_.length;){n=_.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);y(n)}n=A[e];if(!t&&!P[e]&&n&&!n.inited){if(L.enforceDefine&&(!s||!Z(s))){if(i(e))return;return f(F("nodefine","No define call for "+e,null,[e]))}y([e,r.deps||[],r.exports])}g()},toUrl:function(e,t){var r=e.lastIndexOf("."),i=null;return r!==-1&&(i=e.substring(r,e.length),e=e.substring(0,r)),N.nameToUrl(n(e,t&&t.id,!0),i)},nameToUrl:function(e,t){var n,r,i,s,o,u;if(j.jsExtRegExp.test(e))s=e+(t||"");else{n=L.paths,r=L.pkgs,s=e.split("/");for(o=s.length;o>0;o-=1){if(u=s.slice(0,o).join("/"),i=r[u],u=n[u]){D(u)&&(u=u[0]),s.splice(0,o,u);break}if(i){n=e===i.name?i.location+"/"+i.main:i.location,s.splice(0,o,n);break}}s=s.join("/"),s+=t||(/\?/.test(s)?"":".js"),s=(s.charAt(0)==="/"||s.match(/^[\w\+\.\-]+:/)?"":L.baseUrl)+s}return L.urlArgs?s+((s.indexOf("?")===-1?"?":"&")+L.urlArgs):s},load:function(e,t){j.load(N,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||ma.test((e.currentTarget||e.srcElement).readyState))G=null,e=b(e),N.completeLoad(e.id)},onScriptError:function(e){var t=b(e);if(!i(t.id))return f(F("scripterror","Script error",e,[t.id]))}}}},j({}),aa(j),v&&(u=p.head=document.getElementsByTagName("head")[0],A=document.getElementsByTagName("base")[0])&&(u=p.head=A.parentNode),j.onError=function(e){throw e},j.load=function(e,t,n){var r=e&&e.config||{},i;if(v)return i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!R?(K=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,H=i,A?u.insertBefore(i,A):u.appendChild(i),H=null,i;ea&&(importScripts(n),e.completeLoad(t))},v&&M(document.getElementsByTagName("script"),function(e){u||(u=e.parentNode);if(s=e.getAttribute("data-main"))return r.baseUrl||(B=s.split("/"),ba=B.pop(),ca=B.length?B.join("/")+"/":"./",r.baseUrl=ca,s=ba),s=s.replace(da,""),r.deps=r.deps?r.deps.concat(s):[s],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),D(t)||(n=t,t=[]),!t.length&&w(n)&&n.length&&(n.toString().replace(ia,"").replace(ja,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t)),K&&(r=H||ha())&&(e||(e=r.getAttribute("data-requiremodule")),i=y[r.getAttribute("data-requirecontext")]),(i?i.defQueue:O).push([e,t,n])},define.amd={jQuery:!0},j.exec=function(b){return eval(b)},j(r)}})(this),define("requireLib",function(){}),define("app/init",[],function(){window.myvolume={},myvolume.routers={},myvolume.views={},myvolume.models={},myvolume.collections={},myvolume.mixins={},myvolume.API_ROOT="http://api.beatport.com/catalog/3",myvolume.DL_ROOT="http://www.google.com/search?q=site:zippyshare.com+OR+site:mediafire.com+OR+site:oron.com+OR+site:soundcloud.com+OR+site:minitech.ws+",$(function(){myvolume.PLAYER=$("#jquery_jplayer_1")})}),define("app/chart.model",["app/init"],function(){myvolume.models.Chart=Backbone.Model.extend({})}),define("app/chart.collection",["app/init","app/chart.model"],function(){myvolume.collections.Charts=Backbone.Collection.extend({model:myvolume.models.Chart,initialize:function(){this.page=1},url:function(){var e=new Date,t,n,r,i;return t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear(),i=r+"-"+n+"-"+t,myvolume.API_ROOT+"/charts?sortBy=publishDate%20desc&publishDateStart="+i+"&page="+this.page++},parse:function(e){return this.totalPages=e.metadata.totalPages,e.results}})}),define("app/chart.view",["app/init"],function(){myvolume.views.Chart=Backbone.View.extend({tagName:"div",className:"chart clearfix",template:_.template($("#chart-item-template").html()),templateGenre:_.template($("#genre-item-template").html()),events:{"click .top-wrapper":"triggerClicked"},initialize:function(){console.log("ChartItemView::Init"),_.bindAll(this,"render","triggerClicked"),this.model.on("activate",this.activate),this.model.on("deactivate",this.deactivate),this.songs=new myvolume.views.Songs},render:function(){console.log("ChartItemView::Render"),this.$el.addClass(this.model.get("id")).attr("title",this.model.get("name")).html(this.template(this.model.toJSON()));var e=this.model.get("genres"),t=this.$el.find(".genres");for(var n=0;n<e.length;n++)t.append(this.templateGenre({name:e[n].name}));return this},triggerClicked:function(e){var t=this.$(".songs");t.is(":visible")?t.slideUp():(t.fadeIn(),t.htmlFadeIn(this.songs.render(this.model.get("id")).el)),this.trigger("chart:clicked",this.model)}})}),define("app/charts.view",["app/init","app/chart.collection","app/chart.view"],function(){myvolume.views.Charts=Backbone.View.extend({el:"#charts",initialize:function(){console.log("ChartsView::Init"),_.bindAll(this,"render","addAll","addOne","infiniteScroll"),this.collection=new myvolume.collections.Charts,$(document).on("scroll",this.infiniteScroll)},render:function(){return console.log("ChartsView::Render"),this.$el.empty(),this.$el.html('<div class="loader"><img src="/images/ajax-loader.gif" /></div>'),$.when(this.collection.fetch()).then(this.addAll),this},addAll:function(e){return this.fetching=!1,this.$el.empty(),this.collection.each(this.addOne),this},addOne:function(e){var t=new myvolume.views.Chart({model:e});return $(this.el).append(t.render().el),this},infiniteScroll:function(e){if(this.fetching)return;var t=$(document).scrollTop(),n=$(document).height(),r=$(window).height();t>=n-r-100&&this.collection.page<this.collection.totalPages&&(this.fetching=!0,this.$el.append('<div class="infinite_loader"><img src="/images/ajax-loader.gif" /></div>'),$.when(this.collection.fetch({add:!0})).then(this.addAll))}})}),define("app/song.model",["app/init"],function(){myvolume.models.Song=Backbone.Model.extend({})}),define("app/song.collection",["app/init","app/song.model"],function(){myvolume.collections.Songs=Backbone.Collection.extend({model:myvolume.models.Song,initialize:function(){_.bindAll(this,"url")},url:function(){return myvolume.API_ROOT+"/beatport/chart?id="+this.id},parse:function(e){return e.results.tracks}})}),define("lib/jplayer",function(){}),function(e,t){e.fn.jPlayer=function(n){var r=typeof n=="string",i=Array.prototype.slice.call(arguments,1),s=this;return n=!r&&i.length?e.extend.apply(null,[!0,n].concat(i)):n,r&&n.charAt(0)==="_"?s:(r?this.each(function(){var r=e.data(this,"jPlayer"),o=r&&e.isFunction(r[n])?r[n].apply(r,i):r;if(o!==r&&o!==t)return s=o,!1}):this.each(function(){var t=e.data(this,"jPlayer");t?(t.option(n||{})._init(),t.option(n||{})):e.data(this,"jPlayer",new e.jPlayer(n,this))}),s)},e.jPlayer=function(t,n){if(arguments.length){this.element=e(n),this.options=e.extend(!0,{},this.options,t);var r=this;this.element.bind("remove.jPlayer",function(){r.destroy()}),this._init()}},e.jPlayer.event={ready:"jPlayer_ready",resize:"jPlayer_resize",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"},e.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplaythrough","ratechange"],e.jPlayer.pause=function(){e.each(e.jPlayer.prototype.instances,function(e,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")})},e.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""},e.jPlayer.convertTime=function(t){t=new Date(t*1e3);var n=t.getUTCHours(),r=t.getUTCMinutes();return t=t.getUTCSeconds(),n=e.jPlayer.timeFormat.padHour&&n<10?"0"+n:n,r=e.jPlayer.timeFormat.padMin&&r<10?"0"+r:r,t=e.jPlayer.timeFormat.padSec&&t<10?"0"+t:t,(e.jPlayer.timeFormat.showHour?n+e.jPlayer.timeFormat.sepHour:"")+(e.jPlayer.timeFormat.showMin?r+e.jPlayer.timeFormat.sepMin:"")+(e.jPlayer.timeFormat.showSec?t+e.jPlayer.timeFormat.sepSec:"")},e.jPlayer.uaMatch=function(e){e=e.toLowerCase();var t=/(opera)(?:.*version)?[ \/]([\w.]+)/,n=/(msie) ([\w.]+)/,r=/(mozilla)(?:.*? rv:([\w.]+))?/;return e=/(webkit)[ \/]([\w.]+)/.exec(e)||t.exec(e)||n.exec(e)||e.indexOf("compatible")<0&&r.exec(e)||[],{browser:e[1]||"",version:e[2]||"0"}},e.jPlayer.browser={};var n=e.jPlayer.uaMatch(navigator.userAgent);n.browser&&(e.jPlayer.browser[n.browser]=!0,e.jPlayer.browser.version=n.version),e.jPlayer.prototype={count:0,version:{script:"2.0.0",needFlash:"2.0.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,backgroundColor:"#000000",cssSelectorAncestor:"#jp_interface_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",currentTime:".jp-current-time",duration:".jp-duration"},idPrefix:"jp",errorAlerts:!1,warningAlerts:!1},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0},_status:{volume:t,muted:!1,width:0,height:0},internal:{ready:!1,instance:t,htmlDlyCmdId:t},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"}},_init:function(){var n=this;this.element.empty(),this.status=e.extend({},this.status,this._status),this.internal=e.extend({},this.internal),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.status.volume=this._limitValue(this.options.volume,0,1),this.status.muted=this.options.muted,this.status.width=this.element.css("width"),this.status.height=this.element.css("height"),this.element.css({"background-color":this.options.backgroundColor}),e.each(this.options.supplied.toLowerCase().split(","),function(t,r){var i=r.replace(/^\s+|\s+$/g,"");if(n.format[i]){var s=!1;e.each(n.formats,function(e,t){if(i===t)return s=!0,!1}),s||n.formats.push(i)}}),e.each(this.options.solution.toLowerCase().split(","),function(t,r){var i=r.replace(/^\s+|\s+$/g,"");if(n.solution[i]){var s=!1;e.each(n.solutions,function(e,t){if(i===t)return s=!0,!1}),s||n.solutions.push(i)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")===""&&this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=e.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=e.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=e.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=e.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(this.options.swfPath!==""&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf"}),this.internal.poster=e.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),e.each(e.jPlayer.event,function(e,r){n.options[e]!==t&&(n.element.bind(r+".jPlayer",n.options[e]),n.options[e]=t)}),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!n.status.video||n.status.waitForPlay)&&n.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=e("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.require.audio=!1,this.require.video=!1,e.each(this.formats,function(e,t){n.require[n.format[t].media]=!0}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType),this.flash.available=this._checkForFlash(10),this.html.canPlay={},this.flash.canPlay={},e.each(this.formats,function(e,t){n.html.canPlay[t]=n.html[n.format[t].media].available&&""!==n.htmlElement[n.format[t].media].canPlayType(n.format[t].codec),n.flash.canPlay[t]=n.format[t].flashCanPlay&&n.flash.available}),this.html.desired=!1,this.flash.desired=!1,e.each(this.solutions,function(t,r){if(t===0)n[r].desired=!0;else{var i=!1,s=!1;e.each(n.formats,function(e,t){n[n.solutions[0]].canPlay[t]&&(n.format[t].media==="video"?s=!0:i=!0)}),n[r].desired=n.require.audio&&!i||n.require.video&&!s}}),this.html.support={},this.flash.support={},e.each(this.formats,function(e,t){n.html.support[t]=n.html.canPlay[t]&&n.html.desired,n.flash.support[t]=n.flash.canPlay[t]&&n.flash.desired}),this.html.used=!1,this.flash.used=!1,e.each(this.solutions,function(t,r){e.each(n.formats,function(e,t){if(n[r].support[t])return n[r].used=!0,!1})}),this.html.used||this.flash.used||this._error({type:e.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SOLUTION,hint:e.jPlayer.errorHint.NO_SOLUTION}),this.html.active=!1,this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.active=!1,this.flash.gate=!1;if(this.flash.used){var r="id="+escape(this.internal.self.id)+"&vol="+this.status.volume+"&muted="+this.status.muted;if(e.browser.msie&&Number(e.browser.version)<=8){var i='<object id="'+this.internal.flash.id+'"';i+=' classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"',i+=' codebase="'+document.URL.substring(0,document.URL.indexOf(":"))+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"',i+=' type="application/x-shockwave-flash"',i+=' width="0" height="0">',i+="</object>";var s=[];s[0]='<param name="movie" value="'+this.internal.flash.swf+'" />',s[1]='<param name="quality" value="high" />',s[2]='<param name="FlashVars" value="'+r+'" />',s[3]='<param name="allowScriptAccess" value="always" />',s[4]='<param name="bgcolor" value="'+this.options.backgroundColor+'" />',r=document.createElement(i);for(i=0;i<s.length;i++)r.appendChild(document.createElement(s[i]));this.element.append(r)}else s='<embed name="'+this.internal.flash.id+'" id="'+this.internal.flash.id+'" src="'+this.internal.flash.swf+'"',s+=' width="0" height="0" bgcolor="'+this.options.backgroundColor+'"',s+=' quality="high" FlashVars="'+r+'"',s+=' allowScriptAccess="always"',s+=' type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />',this.element.append(s);this.internal.flash.jq=e("#"+this.internal.flash.id),this.internal.flash.jq.css({width:"0px",height:"0px"})}this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=e("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=e("#"+this.internal.video.id),this.internal.video.jq.css({width:"0px",height:"0px"}))),this.html.used&&!this.flash.used&&window.setTimeout(function(){n.internal.ready=!0,n.version.flash="n/a",n._trigger(e.jPlayer.event.ready)},100),e.each(this.options.cssSelector,function(e,t){n._cssSelector(e,t)}),this._updateInterface(),this._updateButtons(!1),this._updateVolume(this.status.volume),this._updateMute(this.status.muted),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),e.jPlayer.prototype.count++},destroy:function(){this._resetStatus(),this._updateInterface(),this._seeked(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),this.status.srcSet&&this.pause(),e.each(this.css.jq,function(e,t){t.unbind(".jPlayer")}),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),this.instances[this.internal.instance]=t},enable:function(){},disable:function(){},_addHtmlEventListeners:function(t,n){var r=this;t.preload=this.options.preload,t.muted=this.options.muted,t.addEventListener("progress",function(){n.gate&&!r.status.waitForLoad&&(r._getHtmlStatus(t),r._updateInterface(),r._trigger(e.jPlayer.event.progress))},!1),t.addEventListener("timeupdate",function(){n.gate&&!r.status.waitForLoad&&(r._getHtmlStatus(t),r._updateInterface(),r._trigger(e.jPlayer.event.timeupdate))},!1),t.addEventListener("durationchange",function(){n.gate&&!r.status.waitForLoad&&(r.status.duration=this.duration,r._getHtmlStatus(t),r._updateInterface(),r._trigger(e.jPlayer.event.durationchange))},!1),t.addEventListener("play",function(){n.gate&&!r.status.waitForLoad&&(r._updateButtons(!0),r._trigger(e.jPlayer.event.play))},!1),t.addEventListener("playing",function(){n.gate&&!r.status.waitForLoad&&(r._updateButtons(!0),r._seeked(),r._trigger(e.jPlayer.event.playing))},!1),t.addEventListener("pause",function(){n.gate&&!r.status.waitForLoad&&(r._updateButtons(!1),r._trigger(e.jPlayer.event.pause))},!1),t.addEventListener("waiting",function(){n.gate&&!r.status.waitForLoad&&(r._seeking(),r._trigger(e.jPlayer.event.waiting))},!1),t.addEventListener("canplay",function(){n.gate&&!r.status.waitForLoad&&(t.volume=r._volumeFix(r.status.volume),r._trigger(e.jPlayer.event.canplay))},!1),t.addEventListener("seeking",function(){n.gate&&!r.status.waitForLoad&&(r._seeking(),r._trigger(e.jPlayer.event.seeking))},!1),t.addEventListener("seeked",function(){n.gate&&!r.status.waitForLoad&&(r._seeked(),r._trigger(e.jPlayer.event.seeked))},!1),t.addEventListener("suspend",function(){n.gate&&!r.status.waitForLoad&&(r._seeked(),r._trigger(e.jPlayer.event.suspend))},!1),t.addEventListener("ended",function(){n.gate&&!r.status.waitForLoad&&(e.jPlayer.browser.webkit||(r.htmlElement.media.currentTime=0),r.htmlElement.media.pause(),r._updateButtons(!1),r._getHtmlStatus(t,!0),r._updateInterface(),r._trigger(e.jPlayer.event.ended))},!1),t.addEventListener("error",function(){n.gate&&!r.status.waitForLoad&&(r._updateButtons(!1),r._seeked(),r.status.srcSet&&(r.status.waitForLoad=!0,r.status.waitForPlay=!0,r.status.video&&r.internal.video.jq.css({width:"0px",height:"0px"}),r._validString(r.status.media.poster)&&r.internal.poster.jq.show(),r.css.jq.videoPlay.length&&r.css.jq.videoPlay.show(),r._error({type:e.jPlayer.error.URL,context:r.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))},!1),e.each(e.jPlayer.htmlEvent,function(i,s){t.addEventListener(this,function(){n.gate&&!r.status.waitForLoad&&r._trigger(e.jPlayer.event[s])},!1)})},_getHtmlStatus:function(e,t){var n=0,r=0,i=0,s=0;n=e.currentTime,r=this.status.duration>0?100*n/this.status.duration:0,typeof e.seekable=="object"&&e.seekable.length>0?(i=this.status.duration>0?100*e.seekable.end(e.seekable.length-1)/this.status.duration:100,s=100*e.currentTime/e.seekable.end(e.seekable.length-1)):(i=100,s=r),t&&(r=s=n=0),this.status.seekPercent=i,this.status.currentPercentRelative=s,this.status.currentPercentAbsolute=r,this.status.currentTime=n},_resetStatus:function(){this.status=e.extend({},this.status,e.jPlayer.prototype.status)},_trigger:function(t,n,r){t=e.Event(t),t.jPlayer={},t.jPlayer.version=e.extend({},this.version),t.jPlayer.status=e.extend(!0,{},this.status),t.jPlayer.html=e.extend(!0,{},this.html),t.jPlayer.flash=e.extend(!0,{},this.flash),n&&(t.jPlayer.error=e.extend({},n)),r&&(t.jPlayer.warning=e.extend({},r)),this.element.trigger(t)},jPlayerFlashEvent:function(t,n){t===e.jPlayer.event.ready&&!this.internal.ready&&(this.internal.ready=!0,this.version.flash=n.version,this.version.needFlash!==this.version.flash&&this._error({type:e.jPlayer.error.VERSION,context:this.version.flash,message:e.jPlayer.errorMsg.VERSION+this.version.flash,hint:e.jPlayer.errorHint.VERSION}),this._trigger(t));if(this.flash.gate)switch(t){case e.jPlayer.event.progress:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.timeupdate:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case e.jPlayer.event.pause:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._error({type:e.jPlayer.error.URL,context:n.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL});break;case e.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case e.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;default:this._trigger(t)}return!1},_getFlashStatus:function(e){this.status.seekPercent=e.seekPercent,this.status.currentPercentRelative=e.currentPercentRelative,this.status.currentPercentAbsolute=e.currentPercentAbsolute,this.status.currentTime=e.currentTime,this.status.duration=e.duration},_updateButtons:function(e){this.status.paused=!e,this.css.jq.play.length&&this.css.jq.pause.length&&(e?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&this.css.jq.playBar.width(this.status.currentPercentRelative+"%"),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(e.jPlayer.convertTime(this.status.currentTime)),this.css.jq.duration.length&&this.css.jq.duration.text(e.jPlayer.convertTime(this.status.duration))},_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},setMedia:function(t){var n=this;this._seeked(),clearTimeout(this.internal.htmlDlyCmdId);var r=this.html.audio.gate,i=this.html.video.gate,s=!1;e.each(this.formats,function(o,u){var l=n.format[u].media==="video";e.each(n.solutions,function(e,o){if(n[o].support[u]&&n._validString(t[u])){var c=o==="html";return l?c?(n.html.audio.gate=!1,n.html.video.gate=!0,n.flash.gate=!1):(n.html.audio.gate=!1,n.html.video.gate=!1,n.flash.gate=!0):c?(n.html.audio.gate=!0,n.html.video.gate=!1,n.flash.gate=!1):(n.html.audio.gate=!1,n.html.video.gate=!1,n.flash.gate=!0),n.flash.active||n.html.active&&n.flash.gate||r===n.html.audio.gate&&i===n.html.video.gate?n.clearMedia():r!==n.html.audio.gate&&i!==n.html.video.gate&&(n._html_pause(),n.status.video&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._resetStatus()),l?(c?(n._html_setVideo(t),n.html.active=!0,n.flash.active=!1):(n._flash_setVideo(t),n.html.active=!1,n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n.status.video=!0):(c?(n._html_setAudio(t),n.html.active=!0,n.flash.active=!1):(n._flash_setAudio(t),n.html.active=!1,n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.hide(),n.status.video=!1),s=!0,!1}});if(s)return!1}),s?(this._validString(t.poster)?this.htmlElement.poster.src!==t.poster?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show():this.internal.poster.jq.hide(),this.status.srcSet=!0,this.status.media=e.extend({},t),this._updateButtons(!1),this._updateInterface()):(this.status.srcSet&&!this.status.waitForPlay&&this.pause(),this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1,this.html.active=!1,this.flash.active=!1,this._resetStatus(),this._updateInterface(),this._updateButtons(!1),this.internal.poster.jq.hide(),this.html.used&&this.require.video&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.flash.used&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._error({type:e.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SUPPORT,hint:e.jPlayer.errorHint.NO_SUPPORT}))},clearMedia:function(){this._resetStatus(),this._updateButtons(!1),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},play:function(e){e=typeof e=="number"?e:NaN,this.status.srcSet?this.html.active?this._html_play(e):this.flash.active&&this._flash_play(e):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(e){e=typeof e=="number"?e:NaN,this.status.srcSet?this.html.active?this._html_pause(e):this.flash.active&&this._flash_pause(e):this._urlNotSetError("pause")},pauseOthers:function(){var t=this;e.each(this.instances,function(e,n){t.element!==n&&n.data("jPlayer").status.srcSet&&n.jPlayer("pause")})},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(e){e=this._limitValue(e,0,100),this.status.srcSet?this.html.active?this._html_playHead(e):this.flash.active&&this._flash_playHead(e):this._urlNotSetError("playHead")},mute:function(){this.status.muted=!0,this.html.used&&this._html_mute(!0),this.flash.used&&this._flash_mute(!0),this._updateMute(!0),this._updateVolume(0),this._trigger(e.jPlayer.event.volumechange)},unmute:function(){this.status.muted=!1,this.html.used&&this._html_mute(!1),this.flash.used&&this._flash_mute(!1),this._updateMute(!1),this._updateVolume(this.status.volume),this._trigger(e.jPlayer.event.volumechange)},_updateMute:function(e){this.css.jq.mute.length&&this.css.jq.unmute.length&&(e?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){t=this._limitValue(t,0,1),this.status.volume=t,this.html.used&&this._html_volume(t),this.flash.used&&this._flash_volume(t),this.status.muted||this._updateVolume(t),this._trigger(e.jPlayer.event.volumechange)},volumeBar:function(e){if(!this.status.muted&&this.css.jq.volumeBar){var t=this.css.jq.volumeBar.offset();e=e.pageX-t.left,t=this.css.jq.volumeBar.width(),this.volume(e/t)}},volumeBarValue:function(e){this.volumeBar(e)},_updateVolume:function(e){this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.width(e*100+"%")},_volumeFix:function(e){var t=.001*Math.random();return e+(e<.5?t:-t)},_cssSelectorAncestor:function(t,n){this.options.cssSelectorAncestor=t,n&&e.each(this.options.cssSelector,function(e,t){self._cssSelector(e,t)})},_cssSelector:function(t,n){var r=this;typeof n=="string"?e.jPlayer.prototype.options.cssSelector[t]?(this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=n,this.css.cs[t]=this.options.cssSelectorAncestor+" "+n,this.css.jq[t]=n?e(this.css.cs[t]):[],this.css.jq[t].length&&this.css.jq[t].bind("click.jPlayer",function(n){return r[t](n),e(this).blur(),!1}),n&&this.css.jq[t].length!==1&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:e.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_STRING,context:n,message:e.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:e.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(e){if(this.css.jq.seekBar){var t=this.css.jq.seekBar.offset();e=e.pageX-t.left,t=this.css.jq.seekBar.width(),this.playHead(100*e/t)}},playBar:function(e){this.seekBar(e)},currentTime:function(){},duration:function(){},option:function(n,r){var i=n;if(arguments.length===0)return e.extend(!0,{},this.options);if(typeof n=="string"){var s=n.split(".");if(r===t){for(var o=e.extend(!0,{},this.options),u=0;u<s.length;u++){if(o[s[u]]===t)return this._warning({type:e.jPlayer.warning.OPTION_KEY,context:n,message:e.jPlayer.warningMsg.OPTION_KEY,hint:e.jPlayer.warningHint.OPTION_KEY}),t;o=o[s[u]]}return o}o=i={};for(u=0;u<s.length;u++)u<s.length-1?(o[s[u]]={},o=o[s[u]]):o[s[u]]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(t,n){var r=this;switch(t){case"cssSelectorAncestor":this.options[t]=n,e.each(r.options.cssSelector,function(e,t){r._cssSelector(e,t)});break;case"cssSelector":e.each(n,function(e,t){r._cssSelector(e,t)})}return this},resize:function(t){this.html.active&&this._resizeHtml(t),this.flash.active&&this._resizeFlash(t),this._trigger(e.jPlayer.event.resize)},_resizePoster:function(){},_resizeHtml:function(){},_resizeFlash:function(e){this.internal.flash.jq.css({width:e.width,height:e.height})},_html_initMedia:function(){this.status.srcSet&&!this.status.waitForPlay&&this.htmlElement.media.pause(),this.options.preload!=="none"&&this._html_load(),this._trigger(e.jPlayer.event.timeupdate)},_html_setAudio:function(t){var n=this;e.each(this.formats,function(e,r){if(n.html.support[r]&&t[r])return n.status.src=t[r],n.status.format[r]=!0,n.status.formatType=r,!1}),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia()},_html_setVideo:function(t){var n=this;e.each(this.formats,function(e,r){if(n.html.support[r]&&t[r])return n.status.src=t[r],n.status.format[r]=!0,n.status.formatType=r,!1}),this.htmlElement.media=this.htmlElement.video,this._html_initMedia()},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id===this.internal.video.id&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause(),this.htmlElement.media.src="",e.browser.msie&&Number(e.browser.version)>=9||this.htmlElement.media.load())},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=!1,this.htmlElement.media.src=this.status.src;try{this.htmlElement.media.load()}catch(e){}}clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var t=this;this._html_load(),this.htmlElement.media.play();if(!isNaN(e))try{this.htmlElement.media.currentTime=e}catch(n){this.internal.htmlDlyCmdId=setTimeout(function(){t.play(e)},100);return}this._html_checkWaitForPlay()},_html_pause:function(e){var t=this;e>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),this.htmlElement.media.pause();if(!isNaN(e))try{this.htmlElement.media.currentTime=e}catch(n){this.internal.htmlDlyCmdId=setTimeout(function(){t.pause(e)},100);return}e>0&&this._html_checkWaitForPlay()},_html_playHead:function(e){var t=this;this._html_load();try{if(typeof this.htmlElement.media.seekable=="object"&&this.htmlElement.media.seekable.length>0)this.htmlElement.media.currentTime=e*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100;else{if(!(this.htmlElement.media.duration>0&&!isNaN(this.htmlElement.media.duration)))throw"e";this.htmlElement.media.currentTime=e*this.htmlElement.media.duration/100}}catch(n){this.internal.htmlDlyCmdId=setTimeout(function(){t.playHead(e)},100);return}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_volume:function(e){this.html.audio.available&&(this.htmlElement.audio.volume=e),this.html.video.available&&(this.htmlElement.video.volume=e)},_html_mute:function(e){this.html.audio.available&&(this.htmlElement.audio.muted=e),this.html.video.available&&(this.htmlElement.video.muted=e)},_flash_setAudio:function(t){var n=this;try{e.each(this.formats,function(e,r){if(n.flash.support[r]&&t[r]){switch(r){case"m4a":n._getMovie().fl_setAudio_m4a(t[r]);break;case"mp3":n._getMovie().fl_setAudio_mp3(t[r])}return n.status.src=t[r],n.status.format[r]=!0,n.status.formatType=r,!1}}),this.options.preload==="auto"&&(this._flash_load(),this.status.waitForLoad=!1)}catch(r){this._flashError(r)}},_flash_setVideo:function(t){var n=this;try{e.each(this.formats,function(e,r){if(n.flash.support[r]&&t[r]){switch(r){case"m4v":n._getMovie().fl_setVideo_m4v(t[r])}return n.status.src=t[r],n.status.format[r]=!0,n.status.formatType=r,!1}}),this.options.preload==="auto"&&(this._flash_load(),this.status.waitForLoad=!1)}catch(r){this._flashError(r)}},_flash_clearMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});try{this._getMovie().fl_clearMedia()}catch(e){this._flashError(e)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(e){this._flashError(e)}this.status.waitForLoad=!1},_flash_play:function(e){try{this._getMovie().fl_play(e)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(e){try{this._getMovie().fl_pause(e)}catch(t){this._flashError(t)}e>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(e){try{this._getMovie().fl_play_head(e)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(e){try{this._getMovie().fl_volume(e)}catch(t){this._flashError(t)}},_flash_mute:function(e){try{this._getMovie().fl_mute(e)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_checkForFlash:function(t){var n=!1,r;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t),n=!0}catch(i){}else navigator.plugins&&navigator.mimeTypes.length>0&&(r=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=t&&(n=!0);return e.browser.msie&&Number(e.browser.version)>=9?!1:n},_validString:function(e){return e&&typeof e=="string"},_limitValue:function(e,t,n){return e<t?t:e>n?n:e},_urlNotSetError:function(t){this._error({type:e.jPlayer.error.URL_NOT_SET,context:t,message:e.jPlayer.errorMsg.URL_NOT_SET,hint:e.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){this._error({type:e.jPlayer.error.FLASH,context:this.internal.flash.swf,message:e.jPlayer.errorMsg.FLASH+t.message,hint:e.jPlayer.errorHint.FLASH})},_error:function(t){this._trigger(e.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n\n"+t.message:"")+(t.hint?"\n\n"+t.hint:"")+"\n\nContext: "+t.context)},_warning:function(n){this._trigger(e.jPlayer.event.warning,t,n),this.options.errorAlerts&&this._alert("Warning!"+(n.message?"\n\n"+n.message:"")+(n.hint?"\n\n"+n.hint:"")+"\n\nContext: "+n.context)},_alert:function(e){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+e)}},e.jPlayer.error={FLASH:"e_flash",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},e.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+e.jPlayer.prototype.version.script+" needs Jplayer.swf version "+e.jPlayer.prototype.version.needFlash+" but found "},e.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},e.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},e.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of methodCssSelectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},e.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}(jQuery),define("lib/jquery.jplayer.min",function(){}),define("app/song.view",["app/init","lib/jplayer","lib/jquery.jplayer.min"],function(){myvolume.views.SongRow=Backbone.View.extend({tagName:"tr",events:{click:"play","click .download":"openTab"},template:_.template($("#song-item-template").html()),templateGenre:_.template($("#genre-item-template").html()),initialize:function(){console.log("ChartItemView::Init"),_.bindAll(this,"render","play","openTab","generateLink"),this.model.bind("change",this.render)},render:function(){console.log("ChartItemView::Render",this.model),$(this.el).html(this.template(this.model.toJSON()));var e=this.model.get("genres")[0].name,t=this.$(".genre");return t.append(this.templateGenre({name:e})),this},play:function(){var e=this.model.get("sampleUrl");$(".playing").removeClass("playing"),$(this.el).addClass("playing"),$("#jquery_jplayer_1").jPlayer("setMedia",{mp3:e}).jPlayer("play")},openTab:function(e){window.open(this.generateLink(),"_blank"),e.stopPropagation()},generateLink:function(){var e=myvolume.DL_ROOT+this.model.get("name").replace(" ","+");return this.model.get("mixName")==="Original Mix"?e+="+"+this.model.get("artists")[0].name.replace(" ","+"):e+="+"+this.model.get("mixName").replace(" ","+"),e}})}),define("app/songstable.view",["app/init","app/song.collection","app/song.view"],function(){myvolume.views.SongsTable=Backbone.View.extend({id:"songs",tagName:"table",initialize:function(e){console.log("ChartSongsView::Init"),_.bindAll(this,"render","addOne","addAll"),this.songs=new myvolume.collections.Songs,this.songs.on("reset",this.addAll)},render:function(e){return console.log("ChartSongsView::render"),this.songs.id=e,this.songs.fetch(),this},addAll:function(){console.log("ChartSongsView::addAll"),this.$el.empty(),this.songs.each(this.addOne),this.trigger("ready")},addOne:function(e){console.log("ChartSongsView::addOne");var t=new myvolume.views.SongRow({model:e});return this.$el.append(t.render().el),this}})}),define("app/songs.view",["app/init","app/songstable.view","app/workspace"],function(){myvolume.views.Songs=Backbone.View.extend({initialize:function(e){_.bindAll(this,"render","fadeIn"),this.view=new myvolume.views.SongsTable,this.view.on("ready",this.fadeIn)},render:function(e){return myvolume.routers.workspace.navigate("charts/"+e),this.$el.empty(),this.view.render(e),this},fadeIn:function(){return this.$el.html(this.view.el),this}})}),define("app/workspace",["app/init","app/charts.view","app/songs.view"],function(){myvolume.routers.Workspace=Backbone.Router.extend({routes:{"charts/:id":"renderChart","":"renderIndex"},initialize:function(){_.bindAll(this,"renderIndex","renderChart","playPause"),myvolume.views.charts=new myvolume.views.Charts,$(document).on("keydown",this.playPause)},renderIndex:function(){myvolume.views.charts.render()},renderChart:function(e){myvolume.views.charts.render(e)},playPause:function(e){if(e.keyCode!==32)return;myvolume.PLAYER||(myvolume.PLAYER=$("#jquery_jplayer_1")),e.preventDefault(),myvolume.PLAYER.data("jPlayer").status.paused?myvolume.PLAYER.jPlayer("play"):myvolume.PLAYER.jPlayer("pause")}})}),define("app/main",["app/init","app/workspace"],function(){var e={ready:function(){$(this).jPlayer("setMedia",{mp3:"http://geo-samples.beatport.com/items/volumes/volume1/items/2000000/600000/70000/6000/300/80/2676381.LOFI.mp3"})},ended:function(e){$(this).jPlayer("play")},swfPath:"js",supplied:"mp3"};console.log("myvolume.player",myvolume.PLAYER),(myvolume.PLAYER||$("#jquery_jplayer_1")).jPlayer(e),myvolume.routers.workspace=new myvolume.routers.Workspace,Backbone.history.start()}),require(["app/main"])